{
  "usageCostMonitoring": {
    "projectId": "haircut-reservation-prod",
    "environment": "production",
    "currency": "USD",
    "billingAccountId": "YOUR_BILLING_ACCOUNT_ID",
    "setupDate": "2025-07-30",
    
    "budgetConfiguration": {
      "totalBudget": {
        "amount": 100,
        "period": "monthly",
        "alertThresholds": [0.5, 0.8, 0.9, 1.0],
        "notifications": {
          "email": [
            "admin@your-domain.com",
            "billing@your-domain.com",
            "tech-lead@your-domain.com"
          ],
          "slackWebhook": "https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK",
          "smsNumbers": ["+81-90-0000-0000"]
        }
      },
      
      "serviceBudgets": {
        "firestore": {
          "monthlyBudget": 40,
          "alertThresholds": [0.7, 0.85, 0.95],
          "autoShutdown": {
            "enabled": false,
            "threshold": 0.98
          }
        },
        "storage": {
          "monthlyBudget": 20,
          "alertThresholds": [0.7, 0.85, 0.95],
          "autoShutdown": {
            "enabled": false,
            "threshold": 0.98
          }
        },
        "functions": {
          "monthlyBudget": 25,
          "alertThresholds": [0.7, 0.85, 0.95],
          "autoShutdown": {
            "enabled": true,
            "threshold": 0.95
          }
        },
        "hosting": {
          "monthlyBudget": 10,
          "alertThresholds": [0.8, 0.9, 0.95],
          "autoShutdown": {
            "enabled": false,
            "threshold": 0.98
          }
        },
        "authentication": {
          "monthlyBudget": 5,
          "alertThresholds": [0.8, 0.9, 0.95],
          "autoShutdown": {
            "enabled": false,
            "threshold": 0.98
          }
        }
      }
    },
    
    "quotaLimits": {
      "firestore": {
        "dailyLimits": {
          "reads": 50000,
          "writes": 20000,
          "deletes": 20000,
          "storage": "5GB"
        },
        "monthlyLimits": {
          "reads": 1500000,
          "writes": 600000,
          "deletes": 600000,
          "storage": "50GB"
        },
        "alertPercentages": [70, 85, 95],
        "hardLimits": {
          "enabled": true,
          "gracePeriod": "1 hour"
        }
      },
      
      "storage": {
        "dailyLimits": {
          "uploads": "1GB",
          "downloads": "10GB",
          "operations": 10000
        },
        "monthlyLimits": {
          "uploads": "20GB",
          "downloads": "200GB",
          "totalStorage": "100GB",
          "operations": 300000
        },
        "alertPercentages": [80, 90, 95],
        "autoCleanup": {
          "enabled": true,
          "tempFileRetention": "24 hours",
          "logFileRetention": "90 days"
        }
      },
      
      "functions": {
        "dailyLimits": {
          "invocations": 125000,
          "computeTime": "40000 GHz-seconds",
          "networkEgress": "5GB"
        },
        "monthlyLimits": {
          "invocations": 3750000,
          "computeTime": "1200000 GHz-seconds",
          "networkEgress": "100GB"
        },
        "alertPercentages": [75, 85, 95],
        "rateLimiting": {
          "enabled": true,
          "maxConcurrentExecutions": 1000,
          "perUserRateLimit": 100
        }
      },
      
      "hosting": {
        "monthlyLimits": {
          "bandwidth": "100GB",
          "storage": "10GB"
        },
        "alertPercentages": [80, 90, 95],
        "cachingStrategy": {
          "enabled": true,
          "staticAssetsTTL": "1 year",
          "dynamicContentTTL": "1 hour"
        }
      },
      
      "authentication": {
        "dailyLimits": {
          "signIns": 10000,
          "verifications": 5000
        },
        "monthlyLimits": {
          "activeUsers": 1000,
          "signIns": 300000,
          "verifications": 150000
        },
        "alertPercentages": [80, 90, 95],
        "securityMeasures": {
          "bruteForceProtection": true,
          "suspiciousActivityDetection": true
        }
      }
    },
    
    "realTimeMonitoring": {
      "enabled": true,
      "checkInterval": 300,
      "metrics": [
        {
          "name": "firestore_reads_per_minute",
          "threshold": 1000,
          "alertLevel": "warning"
        },
        {
          "name": "firestore_writes_per_minute", 
          "threshold": 500,
          "alertLevel": "warning"
        },
        {
          "name": "functions_invocations_per_minute",
          "threshold": 2000,
          "alertLevel": "warning"
        },
        {
          "name": "storage_uploads_per_minute",
          "threshold": 100,
          "alertLevel": "warning"
        },
        {
          "name": "auth_attempts_per_minute",
          "threshold": 200,
          "alertLevel": "critical"
        }
      ],
      
      "anomalyDetection": {
        "enabled": true,
        "baseline": "7_day_average",
        "sensitivity": "medium",
        "thresholds": {
          "deviation": 3.0,
          "suddenSpike": 5.0
        }
      }
    },
    
    "costOptimization": {
      "autoOptimization": {
        "enabled": true,
        "strategies": [
          {
            "name": "firestore_query_optimization",
            "description": "Optimize queries to reduce read operations",
            "enabled": true,
            "potentialSavings": "20-30%"
          },
          {
            "name": "storage_compression",
            "description": "Compress images and documents",
            "enabled": true,
            "potentialSavings": "40-60%"
          },
          {
            "name": "functions_cold_start_reduction",
            "description": "Keep frequently used functions warm",
            "enabled": true,
            "potentialSavings": "10-15%"
          },
          {
            "name": "caching_strategy",
            "description": "Implement aggressive caching",
            "enabled": true,
            "potentialSavings": "30-50%"
          }
        ]
      },
      
      "scheduledReports": {
        "daily": {
          "enabled": true,
          "time": "09:00",
          "timezone": "Asia/Tokyo",
          "recipients": ["admin@your-domain.com"],
          "includeRecommendations": true
        },
        "weekly": {
          "enabled": true,
          "dayOfWeek": "monday",
          "time": "09:00",
          "timezone": "Asia/Tokyo",
          "recipients": [
            "admin@your-domain.com",
            "tech-lead@your-domain.com",
            "billing@your-domain.com"
          ],
          "includeProjections": true,
          "includeTrends": true
        },
        "monthly": {
          "enabled": true,
          "dayOfMonth": 1,
          "time": "09:00",
          "timezone": "Asia/Tokyo",
          "recipients": [
            "admin@your-domain.com",
            "tech-lead@your-domain.com",
            "billing@your-domain.com",
            "management@your-domain.com"
          ],
          "includeDetailedAnalysis": true,
          "includeYearOverYear": true
        }
      }
    },
    
    "alertingSystem": {
      "channels": {
        "email": {
          "enabled": true,
          "priority": "high",
          "templates": {
            "budgetAlert": "Budget Alert: {{service}} has reached {{percentage}}% of monthly budget",
            "quotaAlert": "Quota Alert: {{service}} {{metric}} usage at {{percentage}}%",
            "anomalyAlert": "Anomaly Detected: Unusual {{metric}} activity detected"
          }
        },
        "slack": {
          "enabled": true,
          "priority": "medium",
          "channels": {
            "alerts": "#production-alerts",
            "budget": "#budget-monitoring",
            "general": "#general"
          }
        },
        "sms": {
          "enabled": true,
          "priority": "critical",
          "numbers": ["+81-90-0000-0000"],
          "conditions": [
            "budget_exceeded_90_percent",
            "quota_exceeded_95_percent",
            "service_unavailable"
          ]
        },
        "webhook": {
          "enabled": true,
          "url": "https://your-domain.com/api/monitoring/alerts",
          "authentication": {
            "type": "bearer",
            "token": "YOUR_WEBHOOK_TOKEN"
          }
        }
      },
      
      "escalationPolicy": {
        "levels": [
          {
            "level": 1,
            "delay": "0 minutes",
            "channels": ["slack"],
            "conditions": ["warning"]
          },
          {
            "level": 2,
            "delay": "15 minutes",
            "channels": ["email"],
            "conditions": ["warning_persistent", "critical"]
          },
          {
            "level": 3,
            "delay": "30 minutes",
            "channels": ["sms", "webhook"],
            "conditions": ["critical_persistent"]
          },
          {
            "level": 4,
            "delay": "60 minutes",
            "channels": ["email", "sms"],
            "recipients": ["emergency@your-domain.com"],
            "conditions": ["emergency"]
          }
        ]
      }
    },
    
    "complianceAndAuditing": {
      "dataRetention": {
        "usageData": "3 years",
        "costData": "7 years",
        "alertHistory": "2 years"
      },
      
      "auditRequirements": {
        "monthlyReview": {
          "enabled": true,
          "reviewers": [
            "tech-lead@your-domain.com",
            "finance@your-domain.com"
          ],
          "reportGeneration": true
        },
        "quarterlyAssessment": {
          "enabled": true,
          "assessmentAreas": [
            "cost_efficiency",
            "resource_utilization",
            "security_compliance",
            "performance_optimization"
          ]
        }
      },
      
      "exportCapabilities": {
        "formats": ["JSON", "CSV", "PDF"],
        "scheduling": {
          "enabled": true,
          "frequency": "monthly",
          "destination": "gs://haircut-reservation-prod-reports/usage-reports/"
        }
      }
    },
    
    "emergencyProcedures": {
      "budgetOverrun": {
        "threshold": 95,
        "actions": [
          "immediate_alert",
          "disable_non_critical_functions",
          "enable_cost_controls",
          "notify_management"
        ]
      },
      
      "quotaExhaustion": {
        "threshold": 98,
        "actions": [
          "immediate_alert",
          "implement_rate_limiting",
          "prioritize_critical_operations",
          "prepare_quota_increase_request"
        ]
      },
      
      "unexpectedCostSpike": {
        "detectionCriteria": {
          "percentageIncrease": 200,
          "timeWindow": "1 hour"
        },
        "actions": [
          "immediate_investigation",
          "temporary_service_restriction",
          "emergency_team_notification",
          "root_cause_analysis"
        ]
      }
    }
  }
}